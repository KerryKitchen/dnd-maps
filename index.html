<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Dungeons & Dragons - Interactive Maps</title>
	<script src="https://cdn.tailwindcss.com"></script>
	<script type="text/javascript">

	/* Toggles and aura layer */
	function toggle_aura(aura) {

		let toggleFade = document.getElementsByClassName(aura)[0];

		if (toggleFade.classList.contains("hidden")) {
			toggleFade.classList.remove("hidden");
			toggleFade.classList.add("fade");
		} else {
			toggleFade.classList.add("hidden");
			toggleFade.classList.remove("fade");
		}
		
	}

	/* Reveals an input secret layer */
	function toggle_secret(secret) {

		let revealSecret = document.getElementsByClassName(secret)[0];

		if (revealSecret.classList.contains("hidden")) {
			revealSecret.classList.remove("hidden");
		} else {
			revealSecret.classList.add("hidden");
		}
	}


	/* Toggles a rune to flash and triggers any secrets */
	function toggle_rune(runeID, secretID) {

		let rune = document.getElementById(runeID);

		if (rune.classList.contains('fade')) {
			rune.classList.remove('fade');
		} else {
			rune.classList.add('fade');
		}

		if (secretID != null) {
			// console.log(secretID);
			let name = secretID.split("-");
			// console.log(name[0]);
			if (name[0] === 'aura') {
				toggle_aura(secretID);
			} else if (name[0] === 'secret') {
				toggle_secret(secretID);
			}
		}
		
	}

	/* Toggles the rune menu */
	function toggle_menu() {

		let menu = document.getElementById('menu');

		if (menu.classList.contains('menu-down')) {
			menu.classList.remove('menu-down');
			menu.classList.add('menu-up');
		} else {
			menu.classList.remove('menu-up');
			menu.classList.add('menu-down');
		}
		
	}

	</script>
	<style>
		#menu {
			left: 50%;
			transform: translateX(-50%);
		}
		.menu-up {
			margin-top: -100%;
			transition: margin-top 1s ease;
		}
		.menu-down {
			margin-top: 0;
			transition: margin-top 1s ease;
		}
		.fade {
		    opacity: 1;
		    animation: fade 2s infinite;
		}
		@keyframes fade {
		  0%,100% { opacity: 0 }
		  50% { opacity: 1 }
		}
	</style>
</head>
<body>

	<div class="">

		<img class="absolute top-0 left-0 main-map" src="assets/gnomengarde//Gnomengarde.png">
		<img class="absolute top-0 left-0 hidden secret-1" src="assets/gnomengarde/Gnomengarde (passage).png">
		<img class="absolute top-0 left-0 hidden aura-1-1" src="assets/gnomengarde/Gnomengarde (aura 1.1).png">
		<img class="absolute top-0 left-0 hidden aura-1-2" src="assets/gnomengarde/Gnomengarde (aura 1.2).png">

	</div>

	<div id="menu" class="menu-up fixed grid grid-cols-5 border border-gray-800 p-2 w-1/3 mx-auto bg-gray-800">

		<img class="rune-icon" id="icon-fire" src="assets/icons/icon-fire.png" onclick="toggle_rune('icon-fire')">
		<img class="rune-icon" id="icon-water" src="assets/icons/icon-water.png" onclick="toggle_rune('icon-water')">
		<img class="rune-icon" id="icon-air" src="assets/icons/icon-air.png" onclick="toggle_rune('icon-air')">
		<img class="rune-icon" id="icon-earth" src="assets/icons/icon-earth.png" onclick="toggle_rune('icon-earth')">
		<img class="rune-icon" id="icon-moon" src="assets/icons/icon-moon.png" onclick="toggle_rune('icon-moon')">

		<img class="rune-icon" id="icon-death" src="assets/icons/icon-death.png" onclick="toggle_rune('icon-death')">
		<img class="rune-icon" id="icon-life" src="assets/icons/icon-life.png" onclick="toggle_rune('icon-life','aura-1-1')">
		<img class="rune-icon" id="icon-terra" src="assets/icons/icon-terra.png" onclick="toggle_rune('icon-terra')">
		<img class="rune-icon" id="icon-creation" src="assets/icons/icon-creation.png" onclick="toggle_rune('icon-creation')">
		<img class="rune-icon" id="icon-salt" src="assets/icons/icon-salt.png" onclick="toggle_rune('icon-salt')">

		<img class="rune-icon" id="icon-sun" src="assets/icons/icon-sun.png" onclick="toggle_rune('icon-sun')">
		<img class="rune-icon" id="icon-saltpetre" src="assets/icons/icon-saltpetre.png" onclick="toggle_rune('icon-saltpetre')">
		<img class="rune-icon" id="icon-venus" src="assets/icons/icon-venus.png" onclick="toggle_rune('icon-venus','aura-1-2')">
		<img class="rune-icon" id="icon-mercury" src="assets/icons/icon-mercury.png" onclick="toggle_rune('icon-mercury')">
		<img class="rune-icon" id="icon-mars" src="assets/icons/icon-mars.png" onclick="toggle_rune('icon-mars')">

		<img class="rune-icon" id="icon-uranus" src="assets/icons/icon-uranus.png" onclick="toggle_rune('icon-uranus')">
		<img class="rune-icon" id="icon-lead" src="assets/icons/icon-lead.png" onclick="toggle_rune('icon-lead','secret-1')">
		<img class="rune-icon" id="icon-neptune" src="assets/icons/icon-neptune.png" onclick="toggle_rune('icon-neptune')">
		<img class="rune-icon" id="icon-arsenic" src="assets/icons/icon-arsenic.png" onclick="toggle_rune('icon-arsenic')">
		<img class="rune-icon" id="icon-phosphorus" src="assets/icons/icon-phosphorus.png" onclick="toggle_rune('icon-phosphorus')">

		<img class="rune-icon" id="icon-saturn" src="assets/icons/icon-saturn.png" onclick="toggle_rune('icon-saturn')">
		<img class="rune-icon" id="icon-sulphur" src="assets/icons/icon-sulphur.png" onclick="toggle_rune('icon-sulphur')">
		<img class="rune-icon" id="icon-alcali" src="assets/icons/icon-alcali.png" onclick="toggle_rune('icon-alcali')">
		<img class="rune-icon" id="icon-olive-oil" src="assets/icons/icon-olive-oil.png" onclick="toggle_rune('icon-olive-oil')">
		<img class="rune-icon" id="icon-lead-2" src="assets/icons/icon-lead-2.png" onclick="toggle_rune('icon-lead-2')">

	</div>

	<img src="assets/icons/icon-menu-white.png" class="fixed top-[1rem] right-[1rem] w-10 opacity-20" onclick="toggle_menu()">

</body>
</html>